if (self.CavalryLogger) { CavalryLogger.start_js(["LSJtE"]); }

__d("LiveRHCUtils",[],(function(a,b,c,d,e,f){"use strict";a="live_rhc_collapse";e.exports=a}),null);
__d("TVFocusHelper",["cancelAnimationFrame","requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){b("cancelAnimationFrame")(g),g=b("requestAnimationFrame")(function(){if(!a)return;try{a.tabIndex=a.tabIndex,a.focus()}catch(a){}})}e.exports={setFocus:a}}),null);
__d("VideoChannelProgressCircle.react",["cx","React","ReactDOM","Style","TVFocusHelper","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("TVFocusHelper").setFocus;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=null,c.$3=0,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.drawProgressCircle(this.props),this.$1=b("ReactDOM").findDOMNode(this),this.props.hasFocus&&i(this.$1)};d.componentWillUnmount=function(){window.clearInterval(this.$2)};d.UNSAFE_componentWillReceiveProps=function(a){(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a),a.hasFocus&&!this.props.hasFocus&&i(this.$1)};d.drawProgressCircle=function(a){var c=this,d=b("ReactDOM").findDOMNode(this.refs.progressCircle),e=this.$3,f=e/100;b("Style").set(d,"stroke-dashoffset",e+"px");window.clearInterval(this.$2);a.makeProgress&&(this.$2=window.setInterval(function(){e-=f,b("Style").set(d,"stroke-dashoffset",e+"px"),e<=0&&(window.clearInterval(c.$2),b("Style").set(d,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())},a.timeoutSec*10))};d.render=function(){var a=this.props.watchAndScroll?34:80,b=this.props.watchAndScroll?2:4;a=a/2;var c=a-b/2;this.$3=c*2*Math.PI;return h.jsxs("div",{className:"_955f",children:[h.jsxs("svg",{className:"_20_8",children:[h.jsx("circle",{cx:a,cy:a,r:c,stroke:"#ffffff",strokeWidth:b,strokeDasharray:this.$3,fill:"transparent"}),h.jsx("circle",{ref:"progressCircle",cx:a,cy:a,r:c,stroke:"#5890ff",strokeWidth:b,strokeDasharray:this.$3,fill:"transparent"})]}),this.props.children]})};return c}(h.PureComponent);a.propTypes={children:(c=b("prop-types")).element,makeProgress:c.bool.isRequired,onProgressDone:c.func,timeoutSec:c.number.isRequired,watchAndScroll:c.bool};e.exports=a}),null);
__d("VideoChannelReplayImage.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("Image.react"),{onClick:this.props.onClick,className:"_4nxy"+(this.props.size==="small"?" _4nxz":""),src:"/images/video/channel_view/replay.svg"})};return c}(h.Component);a.defaultProps={size:"normal"};e.exports=a}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/async/{id}/",{id:{type:"String",required:!0},original_video_id:{type:"String",required:!0},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/story/async/{root_video_id}/",{root_video_id:{type:"String",required:!0},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:!1},setup_interactions:{type:"Bool",defaultValue:!1},is_first_story:{type:"Bool",defaultValue:!1},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoChannelStoryFetcher",["AsyncRequest","HTML","XVideoChannelViewAsyncController","XVideoChannelViewStoryAsyncController"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d,e,f,g){this.$7=a;this.$8=b;this.$4=c;this.$10=0;this.$2=null;this.$3=!0;this.$5=[];this.$6=[];this.$9={};if(e){this.$5=e.videoIDs;this.$6=e.feedTrackingData;this.$2=e.cursorInfo.cursor;this.$3=e.cursorInfo.hasNextPage;a=this.$5.indexOf(this.$7);this.$9.start=a;this.$9.end=a+1}if(f){this.$5=f;this.$3=!!g;b=this.$5.indexOf(this.$7);this.$9.start=b;this.$9.end=b+1}this.$11=d;this.$12=[];this.$13=[]}var c=a.prototype;c.reset=function(a,b){this.$7=a,this.$8=b,this.$10=0,this.$2=null,this.$3=!0,this.$5=[],this.$6=[],this.$9={},this.$12=[],this.$13=[]};c.abandonRequest=function(){this.$1&&this.$1.abandon()};c.hasNext=function(){var a=this.$5.length-this.$9.end>0;return this.$3||a};c.$14=function(a,b,c){var d={};d.event=a;d.request_status=b;d.perf_time_ms=Date.now()-c};c.fetchFirstStory=function(a,c,d){var e=this;if(c===null&&this.$5.length!==0){var f=this.$5.indexOf(this.$7);c=this.$6[f]}f=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setStringVector("video_ids",[this.$7]).setString("root_video_id",this.$7).setBool("is_first_story",!0).setBool("use_video_placeholder",a).setBool("setup_interactions",d).setString("channel_id",this.$8).setString("ad_impression_token",this.$11);c&&f.setStringVector("feed_tracking_data",[JSON.stringify(c)]);var g=Date.now();a=new(b("AsyncRequest"))(f.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){e.$14("fetch_first_story_success","succeeded",g),e.$15()}).setErrorHandler(function(){e.$14("fetch_first_story_success","failed",g),e.$15()}).setAbortHandler(function(){e.$14("fetch_first_story_success","aborted",g),e.$15()});this.$1=a;this.$10=Date.now();a.send()};c.getPreloadedData=function(){return{stories:this.$12,thumbnails:this.$13}};c.$16=function(a,c){var d=this;if(!this.$8)return;a=b("XVideoChannelViewAsyncController").getURIBuilder().setString("id",this.$8).setEnum("caller",this.$4).setString("original_video_id",this.$7).setInt("story_count",a);this.$2&&a.setString("cursor",this.$2.toString());var e=Date.now();a=a.getURI();a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).setHandler(function(a){d.$14("fetch_stories_from_entquery","succeeded",e),d.$2=a.getPayload().cursor,d.$3=a.getPayload().hasNextPage,d.$15(),d.$17(a,function(a,b){d.$12=[].concat(d.$12,a);d.$13=[].concat(d.$13,b);return c(a,b)})}).setErrorHandler(function(){d.$14("fetch_stories_from_entquery","failed",e),d.$15()}).setAbortHandler(function(){d.$14("fetch_stories_from_entquery","aborted",e),d.$15()});this.$1=a;a.send()};c.$18=function(a,c,d){var e=this,f=this.$9.end,g=this.$5.length-f,h=f+Math.min(g,a);if(g>0){var i=this.$5.slice(f,h);f=this.$6.slice(f,h).map(function(a){return JSON.stringify(a)});i=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",i).setStringVector("feed_tracking_data",f);var j=Date.now();this.$1=new(b("AsyncRequest"))(i.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_forward","failed",j),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_forward","aborted",j),e.$15()}).setHandler(function(a){e.$14("fetch_stories_forward","succeeded",j),e.$9.end=h,e.$15(),e.$17(a,function(a,b){e.$12=[].concat(e.$12,a);e.$13=[].concat(e.$13,b);return c(a,b)})});this.$1.send();d&&d(g)}else this.$3&&(this.$16(a,c),d&&d(a))};c.$19=function(a,c,d){var e=this,f=this.$9.start;if(f>0){var g=Math.max(f-a,0);a=this.$5.slice(g,f);var h=this.$6.slice(g,f).map(function(a){return JSON.stringify(a)});a=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",a).setStringVector("feed_tracking_data",h);var i=Date.now();this.$1=new(b("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_backward","failed",i),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_backward","aborted",i),e.$15()}).setHandler(function(a){e.$14("fetch_stories_backward","succeeded",i),e.$9.start=g,e.$15(),e.$17(a,c)});this.$1.send();d&&d(f-g)}};c.fetchStories=function(a,b,c){var d=3;if(this.$1)return;a?this.$18(d,b,c):this.$19(d,b,c)};c.$17=function(a,c){a=a.getPayload();var d=b("HTML").replaceJSONWrapper(a.stories).getNodes();a=a.thumbnails.map(function(a){return b("HTML").replaceJSONWrapper(a).getRootNode()});c(d,a)};c.$15=function(){this.$1=null};return a}();e.exports=a}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={awaitingUpdate:!1},c.isFullscreen=function(){return c.state.awaitingUpdate?c.state.isFullscreenOverride:!!c.props.isFullscreen},c.onButtonClick=function(){c.props.onToggleFullscreen&&c.props.onToggleFullscreen()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=Object.assign({},this.props);delete a.isFullscreen;delete a.onToggleFullscreen;return h.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};return c}(h.PureComponent);a.propTypes={disabled:(c=b("prop-types")).bool,image:c.element,isFullscreen:c.bool,onToggleFullscreen:c.func};e.exports=a}),null);
__d("VideoClipButton.react",["ix","cx","fbt","AbstractButton.react","Arbiter","Image.react","React","TooltipData","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("\u6b63\u5728\u7522\u751f\u77ed\u7247\u2026\u2026");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={isClipping:!1};c.$2=function(){c.setState({isClipping:!1})};c.$1=b("Arbiter").subscribe("GamesVideoClipping/clipReady",c.$2);return c}var d=c.prototype;d.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a,c=this,d=i._("\u5229\u7528\u6700\u5f8c{num_seconds}\u79d2\u7684\u756b\u9762\u88fd\u4f5c\u77ed\u7247",[i._param("num_seconds",this.props.defaultLengthInSec)]);return this.state.isClipping?j.jsx(b("XUIText.react"),{className:"_zbd _25cu","data-hover":"tooltip","data-tooltip-content":k,children:j.jsx(b("XUISpinner.react"),{className:"_rwt",background:"light",size:"small",paused:!1})}):j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(d,"above"),{className:"_zbd _8z3u",image:j.jsx(b("Image.react"),{className:"_rwt",src:this.props.iconSrc}),label:(a=this.props.buttonLabel)!=null?a:d,labelIsHidden:this.props.buttonLabel===null,onClick:function(){c.setState({isClipping:!0}),c.props.onClipVideo()},tabIndex:"0"}))};return c}(j.Component);a.defaultProps={buttonLabel:null,iconSrc:g("468574")};e.exports=a}),null);
__d("VideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=new(j||(j=b("URI")))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-l));return k.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(this.props.label,"above"),{className:"_zbd",href:a,image:k.jsx(b("Image.react"),{className:"_rwt",src:g("804741")}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};return c}(k.Component);a.defaultProps={label:i._("\u9ede\u64ca\u5373\u53ef\u5728 Facebook \u89c0\u770b"),labelIsHidden:!0};e.exports=a}),null);
__d("VideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoPlayerExperiments","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a;!b("VideoPlayerExperiments").fourArrowFullScreen?a=this.props.isFullscreen?g("463022"):g("407577"):a=this.props.isFullscreen?g("463031"):g("412613");a=j.jsx(b("Image.react"),{className:"_rwt",src:a});var c=this.props.isFullscreen?i._("\u9000\u51fa\u5168\u87a2\u5e55"):i._("\u9032\u5165\u5168\u87a2\u5e55\u6a21\u5f0f");return j.jsx(b("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_zbd"+(this.props.disabled?" _132h":"")+" _39ip","data-testid":void 0,disabled:this.props.disabled,image:a,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:c,labelIsHidden:!0}))};return c}(j.Component);a.propTypes={isFullscreen:b("prop-types").bool,onToggleFullscreen:b("prop-types").func,tabIndex:b("prop-types").string};e.exports=a}),null);
__d("VideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","VideoPlayerExperiments","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h){var i=b("React");function j(a){return a.toFixed(2).replace(/\.0+/,".0")+"x"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMenuOpen:!1,isFocusTriggeredByMouse:!1,rate:1},c.onFocus=function(){c.state.isFocusTriggeredByMouse||c.setState({isMenuOpen:!0})},c.onBlur=function(){c.state.isFocusTriggeredByMouse?c.setState({isFocusTriggeredByMouse:!1}):c.setState({isMenuOpen:!1})},c.onMouseDown=function(){return c.setState({isFocusTriggeredByMouse:!0})},c.onMouseOverButton=function(){return c.setState({isMenuOpen:!0})},c.onMouseLeave=function(){return c.setState({isMenuOpen:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.createRateItem=function(a,b,c){var d=function(a){c(),a.preventDefault()},e=null;b&&(e=i.jsx("div",{className:"_2iw1"}));b=i.jsx("div",{className:"_2iw3",style:{backgroundColor:"inherit"},children:e});return i.jsxs("a",{href:"#",className:"_2iw4",onClick:d,tabIndex:this.props.tabIndex,children:[b,i.jsx("div",{className:"_2iw5 _2iw6",children:a})]},a)};d.render=function(){var a=this,c=j(this.state.rate),d=null;if(!this.props.disabled){var e=[.5,1,1.25,1.5,1.75,2,2.5,3,3.5,4,5];e=e.map(function(b){return a.createRateItem(j(b),a.state.rate==b,function(){a.props.onSelectPlaybackRate&&a.props.onSelectPlaybackRate(b),a.setState({rate:b})})});d=i.jsx("div",{className:"_67bw"+(this.state.isMenuOpen?" _2iw8":""),children:i.jsx("div",{className:"_2i_w",children:i.jsxs("div",{className:"_2i_x",children:[i.jsx("div",{className:"_2iw5",children:h._("\u64ad\u653e\u901f\u5ea6")}),e,i.jsx("div",{className:"_ukl"})]})})})}e="_zbd _66_y"+(!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _66_z":"");e=i.jsx(b("AbstractButton.react"),{className:e,label:c,onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOverButton,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return i.jsxs("div",{className:"_2j04",onFocus:this.onFocus,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave,children:[e,d]})};return c}(i.Component);a.propTypes={isEmbedded:b("prop-types").bool,onSelectPlaybackRate:b("prop-types").func,tabIndex:b("prop-types").string};a.defaultProps={tabIndex:"-1"};e.exports=a}),null);
__d("VideoPollCardDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("VideoPollCardActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MARK_POLL_CARD_ACTIVE:"",MARK_POLL_CARD_INACTIVE:""});e.exports=a}),null);
__d("VideoPollCardStore",["FluxReduceStore","ImmutableRecordWithV4Types","VideoPollCardActionTypes","VideoPollCardDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({pollCardsActiveForVPC:{}});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduce=function(a,c){var d=c.pollEventID,e=c.vpcID;switch(c.type){case b("VideoPollCardActionTypes").MARK_POLL_CARD_ACTIVE:if(a.pollCardsActiveForVPC[e]===null){c=a.pollCardsActiveForVPC;var f=b("immutable").List();c[e]=f.push(d);a=a.set("pollCardsActiveForVPC",c)}else{f=a.pollCardsActiveForVPC;c=(c=a.pollCardsActiveForVPC[e])!=null?c:b("immutable").List();f[e]=c.push(d);a=a.set("pollCardsActiveForVPC",f)}return a;case b("VideoPollCardActionTypes").MARK_POLL_CARD_INACTIVE:if(a.pollCardsActiveForVPC[e]!==null){c=a.pollCardsActiveForVPC;f=(f=c[e])!=null?f:b("immutable").List();f=f.filter(function(a){return a!==d});c[e]=f;a=a.set("pollCardsActiveForVPC",c)}return a;default:return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("VideoPollCardDispatcher"))}),null);
__d("VideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onButtonClick=function(){c.props.onSidePaneToggle()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isSidePaneOpen?i._("\u9ede\u64ca\u4ee5\u96b1\u85cf\u8a73\u60c5"):i._("\u9ede\u64ca\u4ee5\u986f\u793a\u8a73\u60c5"),c=this.props.isSidePaneOpen?g("114795"):g("114783");return j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({className:"_zbd"},b("TooltipData").propsFor(a,"above"),{image:j.jsx(b("Image.react"),{className:"_23j0",src:c}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};return c}(j.PureComponent);a.defaultProps={label:i._("\u5207\u63db\u8a73\u60c5"),labelIsHidden:!0};a.propTypes={isSidePaneOpen:(c=b("prop-types")).bool,label:c.string,onSidePaneToggle:c.func,tabIndex:c.string};e.exports=a}),null);
__d("VideoControls.react",["cx","fbt","ix","AbstractButton.react","BootloadedComponent.react","FluxContainer","Image.react","JSResource","LiveVideoRewindTypedLogger","React","TooltipData","VideoClipButton.react","VideoFBIconControl.react","VideoFullscreenControl.react","VideoPlaybackControl.react","VideoPlaybackRateControl.react","VideoPlaybackTimer.react","VideoPlayerExperiments","VideoPollCardDispatcher","VideoPollCardStore","VideoScrubber.react","VideoSidepaneToggleControl.react","VideoVolumeControl.react","asset","emptyFunction","immutable","joinClasses","lazyLoadComponent","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("VideoActionsControl.react").__setRef("VideoControls.react")),l=36;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pollCardsActiveForVPC:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("VideoPollCardStore")]};c.calculateState=function(){var a=b("VideoPollCardStore").getState();a=a.pollCardsActiveForVPC;return{pollCardsActiveForVPC:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("VideoPollCardDispatcher").explicitlyRegisterStores(c.getStores())};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(){var a;a=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""]!==null?((a=this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""])!=null?a:b("immutable").List()).size===0:!0:!1);if(a&&(this.props.pollTimestamps?this.props.pollTimestamps.length>0:null))this.props.drawer&&this.props.drawer.setHeight(55);else{a=this.props.isInWatchAndScroll?55:l;this.props.drawer&&this.props.drawer.setHeight(a)}};d.isHidden=function(){return this.props.hidden};d.isTransparent=function(){return this.props.transparent};d.render=function(){var a=b("VideoPlayerExperiments").inlineSoundVisible,c="_1c7d"+(this.isHidden()?" _1c7e":"")+(this.isTransparent()&&!a?" _2oy-":""),d="_2w_u"+(this.props.showSidePaneToggle?" _vr5":"")+(this.props.useDarkTheme?" _vr6":"")+"",e="_1c7f _1c7g"+(this.isTransparent()&&a?" _2oy-":""),f="_1c7f _2pvx"+(this.isTransparent()&&a?" _2oy-":""),g="_1c7f _1c7h"+(this.isTransparent()&&a?" _2oy-":""),l="_1c7f _w7o"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _2oy-":""),m="_2w_w",n=!1;this.props.isLive&&this.props.isInTahoe&&(n=!0);n="_1otk _3t1r _4ubd"+(n?" _w7y":"");var o="_3t1r _4ubd _3t1s"+(this.props.isCommentAttachment?"":" hidden_elem"),p=null;if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hideRemainingTime&&!this.props.isInWatchAndScroll){var q=this.props.playbackPosition-this.props.playbackDuration;p=j.jsx(b("VideoPlaybackTimer.react"),{className:"_5qsr"+(this.props.displayMilliseconds?" _w7-":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,playbackDurationTimestamp:this.props.playbackDuration,remainingTimestamp:q,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayBothTimes:!1})}q=null;var r=null,s=null,t=null,u=null,v=this.props,w=v.showInlineCopyLinkOption;v=v.showInlineVideoReportOption;var x=v||w;!this.props.hideSettings&&!this.props.isInWatchAndScroll&&!this.props.isEmbedded&&x&&(t=j.jsx(j.Suspense,{fallback:j.jsx("span",{}),children:j.jsx(k,{disabled:this.props.isCasting,onActionsClicked:this.props.onActionsClick,permalinkURL:this.props.permalinkURL,showCopyLink:w,showReportVideo:v,tabIndex:"0"})}));var y;this.props.isInTahoe&&this.props.isLive&&!this.props.isFullscreen&&(y=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoQuietModeControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),videoID:this.props.videoID}));if((!this.props.isLive||this.props.hasHD)&&(!this.props.hideSettings&&!this.props.isInWatchAndScroll&&b("VideoPlayerExperiments").redesign)){s=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoSettingsControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasCaptions:this.props.hasCaptions,isHD:this.props.isHD,isInline:this.props.isInline,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,areCaptionsActive:this.props.areCaptionsActive,areCaptionsAutogenerated:this.props.areCaptionsAutogenerated,onSettingsClick:this.props.onSettingsClick,onToggleHD:this.props.onToggleHD,onToggleCaptions:this.props.onToggleCaptions,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:(x=this.props.selectedQuality)!=null?x:null,preferredQuality:(w=this.props.preferredQuality)!=null?w:null,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID})}this.props.isLive&&(b("VideoPlayerExperiments").hlsButton&&(u=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoToHLSControl.react").__setRef("VideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"})));v=this.props.gamesVideoCreatorClipping&&(this.props.isInTahoe||this.props.isInline||this.props.gamesVideoClipButtonEnabled)&&this.props.gamesDefaultClipLengthInSec!=null&&this.props.gamesDefaultClipLengthInSec>0?j.jsx(b("VideoClipButton.react"),{onClipVideo:this.props.onClipVideo,defaultLengthInSec:this.props.gamesDefaultClipLengthInSec}):null;x=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&(this.props.isInline||this.props.isInWatchAndScroll)){w=j.jsx(b("Image.react"),{className:"_rwt",src:i("407577")});var z=h._("\u9ede\u64ca\u653e\u5927");x=j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(z,"above"),{className:"_zbd _400z _1vek",image:w,label:z,labelIsHidden:!0,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{w=this.props.isFullscreen?h._("\u9ede\u64ca\u53ef\u9000\u51fa\u5168\u87a2\u5e55"):h._("\u9ede\u64ca\u53ef\u9032\u5165\u5168\u87a2\u5e55");x=j.jsx(b("VideoFullscreenControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(w,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}z=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&!this.props.isInWatchAndScroll&&(z=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoWatchAndScrollControl.react").__setRef("VideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX}));w=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(w=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoCastingControl.react").__setRef("VideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var A=null;if(this.props.isEmbeddedPlayerRedesignEnabled)A=this.props.permalinkURL&&this.props.showPermalinkButton?j.jsx(b("VideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var B=null,C=this.props.isWatchIconEligible?i("909284"):i("804741");if(this.props.permalinkURL&&this.props.showPermalinkButton){B=j.jsx(b("Image.react"),{className:"_rwt",src:C});C=h._("\u53e6\u958b\u65b0\u6a19\u7c64");A=j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(C,"above"),{className:"_zbd",href:this.props.permalinkURL,image:B,label:C,labelIsHidden:!0,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))}}B=null;C=null;var D=null,E=null,F=null;if((this.props.isLive||this.props.isFBWasLive)&&this.props.showPlayButtonForLive&&!this.props.isLiveRewindEnabled)C=j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});else if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hidePlaybackControl){C=j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var G=h._("\u64ad\u653e\u901f\u7387");D=j.jsx(b("VideoPlaybackRateControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(G,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber){G=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(G=this.props.vpcID)!=null?G:""]!==null?((G=this.state.pollCardsActiveForVPC[(G=this.props.vpcID)!=null?G:""])!=null?G:b("immutable").List()).size===0:!0:!1);B=j.jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,annotatedMomentsOfInterest:this.props.annotatedMomentsOfInterest,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,pollTimestamps:this.props.pollTimestamps,showPollCard:G,onAnnotatedMomentOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,showVideoSliderWarningTooltip:(G=this.props.showVideoSliderWarningTooltip)!=null?G:!1,tabIndex:"0",isInTahoe:this.props.isInTahoe,videoClipInfo:this.props.videoClipInfo})}}G=null;this.props.showSidePaneToggle&&(G=j.jsx(b("VideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var H=null;this.props.hideGradient||(H=j.jsx("div",{className:"_w80"+(this.isTransparent()?" _2oy-":"")+(this.props.useLargerGradient?" _8y-6":"")}));var I=j.jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),J,K,L,M,N,O,P,Q,R=this.props,S=R.onLiveRewindToBeginning,T=R.onLiveRewindSeekBack,U=R.onLiveRewindSeekForward;R=R.onLiveRewindToLive;if(this.props.isLiveRewindEnabled&&!this.props.isEmbedded){if(this.props.liveRelativePlaybackPosition!=null){var V=this.props.liveRelativePlaybackPosition>this.props.playbackDuration?this.props.playbackDuration:this.props.liveRelativePlaybackPosition;P=this.props.isInWatchAndScroll?null:j.jsx(b("VideoPlaybackTimer.react"),{className:"_3ek9 _5qsr"+(this.props.displayMilliseconds?" _w7-":""),displayElapsedTime:!0,displayMilliseconds:this.props.displayMilliseconds,isEmbedded:this.props.isEmbedded,isLiveVideo:!0,playbackPosTimestamp:V,playbackDurationTimestamp:this.props.isFBWasLive?this.props.playbackDuration:void 0,displayBothTimes:this.props.isFBWasLive,remainingTimestamp:-1*(this.props.playbackDuration-V)});O=j.jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,className:"_3ek9",controlsHidden:this.props.hidden,currentPointOfInterest:this.props.currentPointOfInterest,drawer:this.props.drawer,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isInTahoe:this.props.isInTahoe,isLiveRewound:this.props.isLiveRewound,isLiveVideo:!0,isPlaying:this.props.isPlaying,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.isLiveRewound?V:this.props.playbackDuration,pointsOfInterest:this.props.pointsOfInterest,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",onLiveRewindToBeginning:this.props.onLiveRewindToBeginning,onLiveRewindSeekBack:this.props.onLiveRewindSeekBack,onLiveRewindSeekForward:this.props.onLiveRewindSeekForward,onLiveRewindToLive:this.props.onLiveRewindToLive,onPointOfInterestSelect:this.props.onPointOfInterestSelect,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd});new(b("LiveVideoRewindTypedLogger"))().setEvent("render_rewind_controls").setVideoID(this.props.videoID).log()}J=S&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465766"),tooltip:h._("\u524d\u5f80\u958b\u982d"),onButtonClick:S}):null;Q=this.props.isFBWasLive&&R&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465765"),tooltip:h._("\u524d\u5f80\u6700\u672b"),onButtonClick:R}):null;K=T&&!this.props.isInWatchAndScroll?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465767"),tooltip:h._("\u5012\u8f49"),onButtonClick:T}):null;V=this.props.isLiveRewound?h._("\u5feb\u8f49"):void 0;L=U&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465768"),disabled:!this.props.isLiveRewound,tooltip:V,onButtonClick:U}):null;S=this.props.isLiveRewound?i("467224"):i("467223");T=this.props.isLiveRewound?h._("\u76f4\u64ad\u6aa2\u8996"):void 0;M=R?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:S,tooltip:T,onButtonClick:R}):null;N=this.props.isInWatchAndScroll?null:j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isLiveVideo:!0,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"})}V=null;if(this.props.useTwoRows){U=j.jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});V=j.jsxs("div",{className:o,children:[j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsx("div",{className:e}),j.jsx("div",{className:f,children:B}),j.jsx("div",{className:g,children:p})]})}),j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsxs("div",{className:e,children:[C,D,U]}),j.jsx("div",{className:f}),j.jsxs("div",{className:g,children:[r,u,q,s,z,w,x,A,v,t]})]})})]})}if(b("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){S=b("joinClasses")(c,b("VideoPlayerExperiments").embeddedPlayerEnhancements?"_w83":"");T=b("joinClasses")(c,"_w86");R=j.jsx("div",{className:S,children:j.jsxs("div",{className:m,children:[j.jsxs("div",{className:T,children:[j.jsxs("div",{className:e,children:[C,D]}),j.jsx("div",{className:f,children:B}),j.jsx("div",{className:g,children:p})]}),j.jsxs("div",{className:c,children:[j.jsx("div",{className:e}),j.jsx("div",{className:f}),j.jsxs("div",{className:g,children:[a||I,r,u,q,y,s,z,w,G,x,A,v,t]}),j.jsx("div",{className:l,children:!a||I})]})]})})}else R=!this.props.useTwoRows||!this.props.isCommentAttachment?j.jsx("div",{className:n,children:j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsxs("div",{className:e,children:[F,C,D,E,J,K,N,L,this.props.isFBWasLive?Q:M,P]}),j.jsxs("div",{className:f,children:[B,O]}),j.jsxs("div",{className:g,children:[p,a||I,r,u,q,y,s,z,w,G,x,A,v,t]}),j.jsx("div",{className:l,children:!a||I})]})})}):null;return j.jsxs("div",{className:d,children:[H,R,V]})};return c}(j.Component);a.defaultProps={allowCasting:!1,bufferedPosition:0,displayElapsedTime:!1,displayMilliseconds:!1,gamesVideoClipButtonEnabled:!1,gamesVideoCreatorClipping:!1,gamesDefaultClipLengthInSec:void 0,hasFoundReceiver:!1,hidden:!1,hideGradient:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,hideSettings:!1,isAudioBlocked:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isFBWasLive:!1,isInTahoe:!1,isLiveRewound:!1,isMuted:!1,isPlaying:!1,isSphericalVideo:!1,isWatchIconEligible:!1,onSidePaneToggle:b("emptyFunction"),onStartCast:b("emptyFunction"),onStopCast:b("emptyFunction"),playbackDuration:0,playbackPosition:0,showInlineCopyLinkOption:!1,showInlineVideoReportOption:!1,showPermalinkButton:!1,showPlaybackRateControl:!1,showPlayButtonForLive:!1,showSidePaneToggle:!1,showVideoSliderWarningTooltip:!1,showWNSNUX:!1,transparent:!1,useDarkTheme:!1,useLargerGradient:!1,useTwoRows:!1,volume:0};a.propTypes={adBreaks:(c=b("prop-types")).array,adBreaksDisableReasons:c.array,allowFullscreen:c.bool,areHLSActive:c.bool,areCaptionsActive:c.bool,areCaptionsAutogenerated:c.bool,availableQualities:c.array,canAutoSelectVideoQuality:c.bool,displayElapsedTime:c.bool,displayMilliseconds:c.bool,annotatedMomentsOfInterest:c.object,finishedPlaying:c.bool,hasHD:c.bool,hasScrubberPreview:c.bool,hasCaptions:c.bool,hasWatchAndScroll:c.bool,hidden:c.bool,hideGradient:c.bool,hidePlaybackControl:c.bool,hidePlaybackScrubber:c.bool,hideRemainingTime:c.bool,hideSettings:c.bool,isAudioBlocked:c.bool,isCommentAttachment:c.bool,isEmbedded:c.bool,isEmbeddedPlayerRedesignEnabled:c.bool,isFullscreen:c.bool,isHD:c.bool,isInline:c.bool,isInWatchAndScroll:c.bool,isLive:c.bool,isLiveRewindEnabled:c.bool,isMuted:c.bool,isPlaying:c.bool,isSidePaneOpen:c.bool,isSlidingWNSEligible:c.bool,isSphericalVideo:c.bool,onEnterWatchAndScroll:c.func,onLiveRewindSeekBack:c.func,onLiveRewindSeekForward:c.func,onLiveRewindToBeginning:c.func,onLiveRewindToLive:c.func,onPause:c.func,onPlay:c.func,onPointOfInterestSelect:c.func,onSeek:c.func,onSelectQuality:c.func,onSetVideoPlaybackRate:c.func,onToggleFullscreen:c.func,onToggleHD:c.func,onToggleHLS:c.func,onToggleMuted:c.func,onToggleCaptions:c.func,onVolumeChange:c.func,permalinkURL:c.string,playbackDuration:c.number,playbackPosition:c.number,pointsOfInterest:c.array,preferredQuality:c.string,previewThumbnailInformation:c.object,qualitySelectorMinStreams:c.number,scrubberPreviewSprites:c.object,selectedQuality:c.string,showPointOfInterestTimestamps:c.bool,showQualitySelector:c.bool,showSidePaneToggle:c.bool,showWNSNUX:c.bool,streamingFormat:c.string,transparent:c.bool,useDarkTheme:c.bool,useLargerGradient:c.bool,useTwoRows:c.bool,volume:c.number,videoClipInfo:c.object,isWatchIconEligible:c.bool};e.exports=b("FluxContainer").create(a)}),null);
__d("XVideoWnsUpNextAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns/upnext/async/{video_id}/",{video_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"}})}),null);
__d("VideoWatchAndScrollDrawer.react",["csx","cx","fbt","AsyncRequest","DOM","DOMContainer.react","FBLoadShimmer.react","React","XVideoWnsUpNextAsyncController","cxMargin"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={fetching:!0,upNext:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.videoID&&this.$2(this.props.videoID)};d.componentWillUnmount=function(){this.$1&&this.$1.abort()};d.$2=function(a){var c=this;a=b("XVideoWnsUpNextAsyncController").getURIBuilder().setFBID("video_id",a).setFBIDSet("viewed_videos",this.props.viewedVideos);this.$1=new(b("AsyncRequest"))(a.getURI());this.$1.setHandler(function(a){a=a.getPayload();var d=a.upNextUnit&&a.upNextUnit.markup;if(d){d=b("DOM").create("div",{},d);var e=b("DOM").scry(d,"._3iqr");e.length&&(c.setState({upNext:d}),c.props.onLoadUpNext(d,a.canAutoplay))}c.setState({fetching:!1})}).send()};d.render=function(){var a=null;if(this.state.upNext)a=j.jsx(b("DOMContainer.react"),{children:this.state.upNext});else if(this.state.fetching){var c;a=j.jsxs("div",{className:"_2685",children:[j.jsx(c=b("FBLoadShimmer.react"),{height:70,width:124}),j.jsxs("div",{className:"_63-r",children:[j.jsx(c,{height:14,width:140,className:"_3-94"}),j.jsx(c,{height:14,width:140,className:"_3-94"}),j.jsx(c,{height:14,width:70,className:"_3-94"}),j.jsx(c,{height:14,width:70})]})]})}else return null;return j.jsxs("div",{className:"_3rq1 _60a7 _2tyk",children:[j.jsx("div",{className:"_3652",children:j.jsx("div",{className:"_3653",children:i._("\u7a0d\u5f8c\u64ad\u653e")})}),a]})};return c}(j.Component);e.exports=a}),null);
__d("VideoWatchAndScrollEndScreen.react",["ix","cx","fbt","Image.react","PopoverMenu.react","React","ReactXUIMenu","ShimButton.react","TooltipData","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=b("VideoPlayerExperiments").showWNSClose,l=function(a){a=a.onClose;return j.jsx(b("ShimButton.react"),{className:"_3r7h",onClick:a,children:j.jsx(b("Image.react"),{src:g("114710")})})},m=function(a){a=a.onCollapse;return j.jsx("div",babelHelpers["extends"]({className:"_1dtq",onClick:a,role:"button",tabIndex:"1"},b("TooltipData").propsFor(i._("\u6536\u5408\u5f71\u7247")),{children:j.jsx(b("Image.react"),{src:g("115705")})}))},n=function(a){var c=a.onClose;a=j.jsx(b("ReactXUIMenu"),{onItemClick:function(a,b){a=b.item;a.getValue()==="close"&&c()},children:j.jsx(b("ReactXUIMenu").Item,{value:"close",children:"Close"})});return j.jsx(b("PopoverMenu.react"),{className:"_ivg",menu:a,children:j.jsx("a",{href:"#",children:j.jsx(b("Image.react"),{src:g("114186")})})})};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_5qdn _2se8"+(this.props.fadeOut?" _2gud":"")+" _1s-2",children:[j.jsx("div",{className:"_1szz _2se8",children:j.jsx("div",{className:"_1szy _ww8",onClick:this.props.onReplay,role:"presentation",children:j.jsx(b("VideoChannelProgressCircle.react"),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:!0,children:j.jsx(b("VideoChannelReplayImage.react"),{size:"small"})})})}),j.jsxs("div",{className:"_ivh",children:[k?null:j.jsx(n,{onClose:this.props.onClose}),j.jsx(m,{onCollapse:this.props.onCollapse}),k?j.jsx(l,{onClose:this.props.onClose}):null]})]})};return c}(j.Component);a.propTypes={endScreenDuration:(c=b("prop-types")).number.isRequired,fadeOut:c.bool,makeProgress:c.bool.isRequired,onReplay:c.func.isRequired,onClose:c.func.isRequired};e.exports=a}),null);
__d("shouldWNSRenderToRHC",["ge"],(function(a,b,c,d,e,f){"use strict";function a(){return!!b("ge")("fbRHCVideoWNS-container")}e.exports=a}),null);
__d("VideoWatchAndScrollContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMContainer.react","DOMDimensions","Event","Locale","Parent","React","ReactCSSTransitionGroup","Rect","SubscriptionsHandler","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","VideoWatchAndScrollDrawer.react","VideoWatchAndScrollEndScreen.react","cancelAnimationFrame","clearTimeout","getViewportDimensions","prop-types","requestAnimationFrame","setTimeoutAcrossTransitions","shallowCompare","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=10,k=230,l=476,m=300,n=2e3,o=b("VideoPlayerExperiments").endScreenDuration,p=Object.freeze({NW:"nw",NE:"ne",SE:"se",SW:"sw"});a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state=b.$3(b.props);return b}var d=c.prototype;d.$3=function(a){a=this.$4();var b=this.$5(this.props.initialPosition,a);return{channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:a,dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:!1,endScreenShown:!1,fadeOut:!1,fadeOutPlaceholder:null,hasDrawer:!1,height:b.height,left:b.left,playbackFinished:!1,resizeDirection:null,showDrawer:!1,timeUntilNext:0,top:b.top,width:b.width,videoIndex:0}};d.shouldComponentUpdate=function(a,c){return!this.state.fadeOut&&b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(a,c){var d=this;if(!c)return;!c.dragging&&this.state.dragging?(this.documentSubscriptions=new(b("SubscriptionsHandler"))(),this.documentSubscriptions.addSubscriptions(b("Event").listen(document,"mousemove",this.$6.bind(this)),b("Event").listen(document,"mouseup",this.$7.bind(this)))):c.dragging&&!this.state.dragging&&this.documentSubscriptions.release();c.playbackFinished!==this.state.playbackFinished&&this.state.playbackFinished&&this.state.timeUntilNext&&(b("clearTimeout")(this.$2),this.$8(),this.$2=b("setTimeoutAcrossTransitions")(function(){d.props.onPlayNext()},this.state.timeUntilNext*1e3));var e=["._23if","._23ig","._452w","._2i7a"],f=c.channelVideoElements||[];this.state.channelVideoElements.forEach(function(a){if(f.indexOf(a)!==-1)return;e.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").hide(c)});var c=b("DOM").scry(a,"._3pay");c=c[0];c&&(b("CSS").removeClass(c,"_3pay"),b("CSS").addClass(c,"_2337"))})};d.componentDidMount=function(){this.movementListeners=new(b("SubscriptionsHandler"))(),this.movementListeners.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.$9.bind(this),100)),b("Arbiter").subscribe("sidebar/visibility",b("throttle")(this.$9.bind(this),100)))};d.componentWillUnmount=function(){this.documentSubscriptions&&this.documentSubscriptions.release(),this.movementListeners&&this.movementListeners.release(),this.$1&&b("clearTimeout")(this.$1),this.$2&&b("clearTimeout")(this.$2)};d.getFadeOutStatus=function(){return this.state.fadeOut};d.getChannelVideoElements=function(){return this.state.channelVideoElements};d.$9=function(){var a=this.$4(),b=this.$5({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},a);this.setState({containerBoundingBox:a,height:b.height,left:b.left,top:b.top,width:b.width})};d.$10=function(a,b){this.$11(b,a)};d.$12=function(a){if(b("Parent").bySelector(a.target,"._5-32")||!b("Parent").bySelector(a.target,"._3t-6"))return;this.$11(a,null)};d.$13=function(a){return a.button!==0||b("Parent").bySelector(a.target,"._3t-6")||b("Parent").bySelector(a.target,"._2se8")};d.$14=function(a){if(this.$13(a))return;this.props.onClick&&this.props.onClick()};d.$11=function(a,c){var d=a.button,e=a.target;if(d!==0)return;if(b("Parent").bySelector(e,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$4(),dragging:!0,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:a.screenX,draggingStartMousePositionY:a.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:c});a.preventDefault()};d.$4=function(){var a=0,c=b("DOM").scry(document.body,".fbChatSidebar");c.length===1&&(a=b("DOMDimensions").getElementDimensions(c[0]).width);c=b("getViewportDimensions").withoutScrollbars();var d=43+j,e=c.height-j,f=j;c=c.width-j;b("Locale").isRTL()?f+=a:c-=a;return new(b("Rect"))(d,c,e,f)};d.$5=function(a,c){a=new(b("Rect"))(a.top,a.left+a.width,a.top+a.height,a.left);a=a.boundWithin(c);return{height:a.h(),left:a.getLeft(),top:a.getTop(),width:a.w()}};d.$15=function(a,b,c){var d=a.top,e=b.getTop();d=e-d;d>0&&((c===p.NE||c===p.NW)&&(a.height-=d),a.top=e);d=a.left;e=b.getLeft();d=e-d;d>0&&((c===p.NW||c===p.SW)&&(a.width-=d),a.left=e);c=a.top+a.height;d=b.getTop()+b.h();e=c-d;e>0&&(a.height=d-a.top);c=a.left+a.width;e=b.getLeft()+b.w();d=c-e;d>0&&(a.width=e-a.left)};d.$16=function(a,b,c){a.width<k&&((c===p.NW||c===p.SW)&&(a.left-=k-a.width),a.width=k),a.height<k&&((c===p.NE||c===p.NW)&&(a.top-=k-a.height),a.height=k)};d.$17=function(a,b,c){a.width>l&&((c===p.NW||c===p.SW)&&(a.left+=a.width-l),a.width=l),a.height>l&&((c===p.NE||c===p.NW)&&(a.top+=a.height-l),a.height=l)};d.$18=function(a,b,c){var d=a.width/a.height;b=b.width/b.height;if(d>b){var e=a.height*b,f=a.height;e<k&&(f*=k/e,e=k,(c===p.NE||c===p.NW)&&(a.top+=a.height-f));(c===p.NW||c===p.SW)&&(a.left+=a.width-e);a.width=e;a.height=f}else if(d<b){e=a.width/b;(c===p.NE||c===p.NW)&&(a.top+=a.height-e);a.height=e}};d.$19=function(a,b,c,d){this.$15(a,c,d);this.$16(a,b,d);this.$17(a,b,d);this.$18(a,b,d);return{height:a.height,left:a.left,top:a.top,width:a.width}};d.$6=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.dragUpdateRequestAnimationFrameID=b("requestAnimationFrame")(this.$20.bind(this,a))};d.$21=function(a){(a.height!==this.state.height||a.width!==this.state.width)&&this.props.onInitialPositionUpdate(a)};d.$20=function(a){if(!this.state.dragging)return;var b=a.screenX-this.state.draggingStartMousePositionX,c=a.screenY-this.state.draggingStartMousePositionY,d=this.state.resizeDirection,e;if(!d)e=this.$5({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+b,top:this.state.draggingStartTop+c,width:this.state.draggingStartWidth},this.state.containerBoundingBox),this.$21(e),this.setState({height:e.height,left:e.left,top:e.top,width:e.width});else{var f=this.state.draggingStartHeight,g=this.state.draggingStartLeft,h=this.state.draggingStartTop,i=this.state.draggingStartWidth;(d===p.NE||d===p.SE)&&(i+=b);(d===p.NW||d===p.SW)&&(g+=b,i-=b);(d===p.SE||d===p.SW)&&(f+=c);(d===p.NE||d===p.NW)&&(h+=c,f-=c);e=this.$19({height:f,left:g,top:h,width:i},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,d);this.$21(e);this.setState({height:e.height,left:e.left,top:e.top,width:e.width})}a.preventDefault()};d.$7=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.props.onDrop(),this.setState({dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null}),a.preventDefault()};d.$22=function(){this.$1&&(b("clearTimeout")(this.$1),this.$1=null),this.setState({showDrawer:!0})};d.$23=function(){this.state.showDrawer&&this.$8()};d.$24=function(){b("clearTimeout")(this.$2),this.setState({playbackFinished:!1}),this.props.onReplay()};d.$8=function(){var a=this;this.$1?b("clearTimeout")(this.$1):this.setState({showDrawer:!0});this.$1=b("setTimeoutAcrossTransitions")(function(){a.setState({showDrawer:!1}),a.$1=null},n)};d.$25=function(a,c){if(a>this.state.channelVideoElements.length)return null;a=this.state.channelVideoElements[a];return!a?null:i.jsx("div",{className:"_2yq3"+(c==="left"?" _2yq4":"")+(c==="center"?" _2yq5":"")+(c==="right"?" _2yq6":""),children:i.jsx(b("DOMContainer.react"),{children:a})},a.id)};d.$26=function(){return b("shouldWNSRenderToRHC")()?[]:[i.jsx("div",{className:"_52ua",onMouseDown:this.$10.bind(this,p.NW)},p.NW),i.jsx("div",{className:"_52uc",onMouseDown:this.$10.bind(this,p.NE)},p.NE),i.jsx("div",{className:"_52ui",onMouseDown:this.$10.bind(this,p.SE)},p.SE),i.jsx("div",{className:"_52uj",onMouseDown:this.$10.bind(this,p.SW)},p.SW)]};d.getWidth=function(){return this.state.width};d.onLoadUpNext=function(a,b){this.props.onLoadUpNext(a,b),this.setState({hasDrawer:!0})};d.canPlayAnotherVideo=function(){var a=this.state.channelVideoElements;return this.state.videoIndex<a.length-1};d.render=function(){var a=this,c=null;this.props.isDrawerEnabled||(c={height:Math.round(this.state.height)+"px",left:this.state.left+"px",top:this.state.top+"px",width:Math.round(this.state.width)+"px"});var d=this.state.channelVideoElements,e=d[this.state.videoIndex];e&&(b("CSS").addClass(e,"_1kfp"),b("CSS").conditionClass(e,"_1blk",this.state.width<m));this.state.endScreenShown&&i.jsx(b("VideoWatchAndScrollEndScreen.react"),{endScreenDuration:o/1e3,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){b("clearTimeout")(a.$2),a.$2=null,a.props.onClose()},onCollapse:this.props.onCollapse});e=null;this.state.fadeOutPlaceholder?e=i.jsx(b("DOMContainer.react"),{children:this.state.fadeOutPlaceholder}):e=i.jsx("ul",{className:"_2yq7",children:d.map(function(c,d){(d>a.state.videoIndex+1||d<a.state.videoIndex-1)&&b("CSS").removeClass(c,"_1kfp");return d<=a.state.videoIndex+1?null:i.jsx("li",{children:i.jsx(b("DOMContainer.react"),{children:c})},c.id)})});d=null;this.state.playbackFinished&&(d=i.jsx("div",{role:"presentation",onClick:this.$24.bind(this),className:"_1szy _ww8",children:i.jsx(b("VideoChannelProgressCircle.react"),{makeProgress:!!this.state.timeUntilNext,timeoutSec:this.state.timeUntilNext,watchAndScroll:!0,children:i.jsx(b("VideoChannelReplayImage.react"),{size:"small"})})}));var f=null;this.props.isDrawerEnabled&&(f=i.jsx(b("VideoWatchAndScrollDrawer.react"),{videoID:this.props.videoID,viewedVideos:this.props.viewedVideos,onLoadUpNext:this.onLoadUpNext.bind(this)}));return i.jsx(b("ReactCSSTransitionGroup"),{transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionName:{appear:"_tie",appearActive:"_tik"},children:i.jsxs("div",{className:"_360g"+(this.state.showDrawer?" _hzi":"")+(this.state.fadeOut?" _473b":"")+(this.state.hasDrawer?" _60a6":"")+(this.props.isLiveVideo()?" _29mh":""),onMouseLeave:this.$23.bind(this),onMouseMove:this.$22.bind(this),style:c,children:[i.jsxs("div",{className:"_52u8",onClick:this.$14.bind(this),onMouseDown:this.$12.bind(this),role:"presentation",children:[i.jsxs("div",{className:"_hzj",children:[this.$25(this.state.videoIndex-1,"left"),this.$25(this.state.videoIndex,"center"),this.$25(this.state.videoIndex+1,"right"),d]}),f]}),this.$26(),e]})})};return c}(i.Component);a.propTypes={initialPosition:(c=b("prop-types")).object.isRequired,initialVideoElement:c.instanceOf(HTMLElement).isRequired,onChannelNavigation:c.func.isRequired,onClick:c.func.isRequired,onClose:c.func.isRequired,onDrop:c.func.isRequired,onGrab:c.func.isRequired,onInitialPositionUpdate:c.func.isRequired,onReplay:c.func.isRequired};e.exports=a}),null);
__d("XVideoWNSSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns_survey/",{__asyncDialog:{type:"Int"}})}),null);
__d("VideoWatchAndScrollController",["csx","cx","invariant","Arbiter","AsyncRequest","CSS","DOM","DOMDimensions","Event","EventListener","LiveRHCUtils","Locale","React","ReactDOM","SubscriptionsHandler","Tahoe","VideoAutoplayControllerX","VideoChannelStoryFetcher","VideoFrameBuffer","VideoPlayerExperiments","VideoPlayerShakaGlobalConfig","VideoPlayerVolumeSettings","VideoWatchAndScrollContainer.react","VideoWatchAndScrollVariables","ViewportBounds","XVideoWNSSurveyController","cancelAnimationFrame","clearTimeout","destroyOnUnload","getViewportDimensions","ifRequired","setTimeoutAcrossTransitions","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=["autoplay_initiated","page_visibility_initiated"],s=750,t=308,u=3,v=null,w=b("VideoPlayerExperiments").persistentWNSEnabled;function x(){return Math.max(b("getViewportDimensions")().height,400)-n-80}a=function(){"use strict";function a(a,c,d,e,f){var g=this;this.$30=new(b("SubscriptionsHandler"))();this.$31=new(b("SubscriptionsHandler"))();this.$1=!1;this.$2=null;this.$3=null;this.$4=!1;this.$34=d;this.$37=!1;this.$29=!1;this.$47=e;this.$48=e;this.$52=f;this.$33=new(b("VideoChannelStoryFetcher"))(c,a,this.$34,null);this.$35=[];this.$36=0;this.$38=[];this.$39=[];this.$5=k;this.$6=l;this.$10=window.document.getElementById("leftCol");this.$11=window.document.getElementById("rightCol");this.$12=window.document.getElementById("pagelet_bluebar");this.$43={};this.$46=null;this.$53();(d=this.$30).addSubscriptions.apply(d,this.$54());w||b("destroyOnUnload")(function(){g.$55(),g.$4&&g.$56(),g.$30&&g.$30.release(),g===v&&(v=null)})}var c=a.prototype;c.$54=function(){var a=this,c=[];c.push(b("Arbiter").subscribe("VideoChannelView/opened",function(b,c){a.$4&&(!c.controller||a.$16!==c.controller)&&a.$56()}));c.push(b("Arbiter").subscribe("fbVideoWatchAndScroll/closeWNS",function(){if(!a.$4)return;var c=a.$16,d=c.getOption("CommercialBreakVideoAdOverlay","videoController");d&&(c=d);c.logEvent("watch_and_scroll_exited");a.$57();d=b("XVideoWNSSurveyController").getURIBuilder().getURI();c=new(b("AsyncRequest"))().setURI(d);c.send()}));if(b("VideoPlayerExperiments").rhcWNSEnabled){c.push(b("Arbiter").subscribe("RHCVideoWNSController/collapseStart",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenFadeOut:!0,endScreenShown:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/collapseEnd",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;a.pauseActiveVideo("user_initiated");c.setState({endScreenFadeOut:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/expandStart",function(){var c=a.$14;if(!c||!a.isActiveVideoDonePlaying()||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenShown:!0})}));if(w){var d=function(){var b=a.$16.getVideoNode();b instanceof HTMLVideoElement||i(0,1208);b.currentTime=b.currentTime};c.push(b("Arbiter").subscribe("RHCVideoWNSController/eject",function(c,e){if(!b("shouldWNSRenderToRHC")())return;a.$2=e;b("DOM").appendContent(document.body,e);b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Arbiter").subscribe("RHCVideoWNSController/dock",function(){if(!b("shouldWNSRenderToRHC")())return;b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Event").listen(window,"resize",b("throttle")(function(){if(!b("shouldWNSRenderToRHC")())return;a.$58()})),b("Arbiter").subscribe("RHCVideoWNSController/mount",function(){a.$58()}))}}return c};c.$58=function(){var a=this.$14;if(!a||this.$37)return;var c=this.$16.getVideoNode();c=this.$59(c);this.$16.removeOffsetStylings();this.$16.setDimensions(c.width,c.height);a.setState({width:c.width,height:c.height});this.$46=c;b("Arbiter").inform("VideoWatchAndScrollController/resize")};c.isActiveVideoDonePlaying=function(){var a=this.$16.getState();return a==="finished"};a.isActiveVideoDonePlaying=function(){return v?v.isActiveVideoDonePlaying():!1};c.$60=function(a,c,d){var e=this;a||i(0,3963);c.length||i(0,3964);this.$47=!0;this.$37=!1;this.$31=new(b("SubscriptionsHandler"))();this.$36=d;this.$33=a;this.$38=a.getPreloadedData().thumbnails||[];this.$39=[];this.$35=c.slice(0);this.$35.forEach(function(a){e.$61(a),e.$62(a),a.updateSource("watch_scroll")});d=this.$35.shift();this.$63(d,"user_initiated")};c.$64=function(a,b,c,d,e){var f=this;this.$9=e;this.$46=this.$59(e.videoRootNode);this.$60(a,b,c);this.$14&&this.$14.setState({channelVideoElements:d},function(){f.$65()});this.$9=null};a.registerVideoController=function(b,c,d,e,f){v==null&&(v=new a(b.getVideoChannelID(),b.getVideoID(),c,e,f));v.$30.addSubscriptions(b.addListener("enterWatchAndScroll",function(){v&&v.$66(b)}),b.addListener("crossfadeWatchAndScroll",function(){if(v){v.$67();var a=b.getVideoNode();v.$46=v.$59(a);v.$63(b,"user_initiated",!1,!0);b.unmute()}}),b.addListener("exitWatchAndScroll",function(){v&&v.$4&&v.$56()}),b.addListener("VideoChannelController/enterChannel",function(){v&&(v.$37=!0)}),b.addListener("VideoChannelController/exitChannel",function(){v&&(v.$37=!1)}));c==="wns"&&v.$35.push(b);if(!d)return;e=["beginPlayback","changeVolume","muteVideo","toggleFullscreen","unmuteVideo","VideoChannelController/enterChannel"];e.forEach(function(a){v&&v.$30.addSubscriptions(b.addListener(a,function(c){v&&v.$68(b,a,c)}))})};a.isActive=function(){return!v?!1:v.$4&&!v.$37};a.updateSlidingCalculations=function(){if(!v)return;v.$19&&v.$69(v.$19)};a.registerChannelVideoController=function(a){if(!v)return;a.updateSource("watch_scroll");v.$61(a);v.$62(a);v.$35.push(a)};a.getStoryFetcherData=function(){return v&&v.$70()};c.$70=function(){return{storyFetcher:this.$33,videoPlayerControllers:this.$35,channelVideoIndex:this.$36,rootVideoPlayerController:this.$17,channelInteractionsToRegister:this.$39,isFromWNS:!0}};a.getVideoPlaceholder=function(){return!v?null:v.$18};a.getReactContainer=function(){return!v?null:v.$14};a.registerChannelInteraction=function(a){v&&v.$39.push(a)};a.onEnterTahoe=function(){if(!v)return;v.$71()};c.$71=function(){this.$37=!0,this.$33.abandonRequest()};a.onEnterChannel=function(){if(!v)return;v.$72()};c.$72=function(){this.$37=!0;this.$33.abandonRequest();var a=this.$14;if(!a)return;var c=["._23if","._23ig","._452w","._2i7a"];a.getChannelVideoElements().forEach(function(a){c.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").show(c)});var d=b("DOM").scry(a,"._2337");d=d[0];d&&(b("CSS").removeClass(d,"_2337"),b("CSS").addClass(d,"_3pay"))})};a.resetFromChannelView=function(a,b,c){if(!v)return;v.$60(a,b,c)};a.startFromChannelView=function(a,b,c,d,e){if(!v)return;v.$64(a,b,c,d,e)};c.$68=function(a,b,c){if(this.$4){if(this.$16===a)return;if(c&&r.includes(c.reason))return;if(!a.isIntentionallyViewing())return;var d=this.$16.getOption("VideoWithLiveBroadcast","isLive");d?this.$16.mute():this.$16.pause("user_initiated")}if(b==="toggleFullscreen"&&a.isFullscreen()||b==="VideoChannelController/enterChannel")this.$19&&this.$55();else if((b!=="beginPlayback"||c&&c.reason==="user_initiated"||a.getSource()==="permalink")&&a.isIntentionallyViewing()&&!a.isFullscreen()&&!a.getIsInChannel()){d=this.$73(a.getVideoNode());d=d.top;(d>window.scrollY||b==="beginPlayback"&&c&&c.reason==="autoplay_initiated")&&this.$69(a)}};c.$74=function(a){if(this.$37||a!==this.$16)return;this.$14&&this.$14.setState({endScreenShown:!0,playbackFinished:!0,timeUntilNext:this.$50?u:0})};c.$75=function(a){var b=this;return a.addListener("finishPlayback",function(){return b.$74(a)})};c.$69=function(a){var c=a.getVideoNode();if(!c.offsetParent)return;this.$19=a;this.$25=b("throttle")(this.$76.bind(this),100);window.addEventListener("resize",this.$25);this.$77(c);b("VideoPlayerExperiments").enableClickOnlyWatchAndScroll||this.$78()};c.$76=function(){this.$19&&(this.$77(this.$18||this.$19.getVideoNode()),this.$26&&this.$26())};c.$79=function(a){var b=this.$73(a),c=a.scrollWidth;a=a.scrollHeight;var d=q,e=p;c<a&&(d*=c/a,e*=c/a);c=d;if(this.$10&&this.$10.children.length){a=this.$73(this.$10);if(a.left<=b.left)c=Math.min(a.left-2*m,e);else if(this.$11&&this.$11.children.length){b=this.$73(this.$11);c=Math.min(b.left-2*m,e)}}else{a=document.getElementById("timeline_tab_content");if(a){b=this.$73(a).left;c=Math.min(b-2*m,e)}}return Math.max(c,d)};c.$73=function(a){var b={left:0,top:0};do b.top+=a.offsetTop,b.left+=a.offsetLeft;while(a=a.offsetParent);return b};c.$80=function(){if(b("VideoPlayerExperiments").rhcWNSEnabled)return t;var a=0;if(this.$10&&this.$10.children.length){var c=this.$73(this.$10),d=window.getComputedStyle(this.$10);d=parseInt(d.width,10);w&&(d=d||l);a=d+c.left-m}else{d=document.getElementById("timeline_tab_content");if(!d){c=document.getElementById("pagelet_timeline_main_column");c?d=c.parentNode:d=document.getElementById("contentArea")}if(d){c=this.$73(d).left;a=c-2*m}}return a};c.$59=function(a){var c=!a&&this.$9;({left:0});var d=16,e=9;if(!c){this.$73(a);e=1;d=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!d||e===0)&&a&&(this.$73(a),d=a.scrollWidth,e=a.scrollHeight)}a=q;var f=p;d<e&&(a*=d/e,f*=d/e);var g=this.$80(),h=m;this.$12&&(h+=this.$12.scrollHeight);h=Math.max(h,o);var i=b("VideoPlayerExperiments").rhcWNSEnabled?g:Math.max(Math.min(g,f),q),j;b("VideoPlayerExperiments").rhcWNSEnabled?j=b("Locale").isRTL()?m+b("ViewportBounds").getRight():b("getViewportDimensions")().width-i-m:(j=g>f?g-f+m:m,j=Math.max(j,m));f=i*e/d;b("VideoPlayerExperiments").rhcWNSEnabled&&(f=Math.min(f,x()));return{hasEnoughSpace:!!c||g>=a,height:f,left:j,top:h,width:i}};a.hasEnoughSpaceToEnter=function(a){if(!v||!a||!a.getVideoNode())return!1;a=a.getVideoNode();var b=1,c=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!c||b===0)&&a&&(c=a.scrollWidth,b=a.scrollHeight);a=q;c<b&&(a*=c/b);return v.$80()>a};c.$77=function(a){this.$22=this.$73(a);this.$27=a.scrollWidth;this.$28=a.scrollHeight;var b=Math.max(this.$27,this.$28);if(b<q){b=q/b;this.$27*=b;this.$28*=b}this.$21=this.$22.top+this.$28*.5-n;this.$20=this.$22.top+this.$28*.5-window.innerHeight;this.$46=this.$59(a);this.$29=!this.$46.hasEnoughSpace};c.$78=function(){this.$19.isIntentionallyViewing()?(this.$81(this.$82.bind(this)),this.$82()):this.$55()};a.isVideoAlmostFinished=function(a){var c=a.getPlaybackDuration();a=a.getCurrentTimePosition();var d=b("VideoWatchAndScrollVariables").noWNSRemainingTime;if(c*.2<d)return a/c>.8;else return c-a<d};a.isSlidingEnabled=function(b){var c=v;if(c==null)return!1;var d=c.$19;if(d==null||d!==b)return!1;if(c.$29||!b.isIntentionallyViewing()||!b.getVideoNode().offsetParent||a.isVideoAlmostFinished(b)||b.getSource()==="tahoe"||b.hasLooped()){c.$55();return!1}return!0};c.$82=function(){var c=this.$19;if(c==null)return;if(!c.isIntentionallyViewing()||!c.getVideoNode().offsetParent){this.$55();return}(window.scrollY>this.$21||window.scrollY<this.$20)&&a.isSlidingEnabled(c)&&c!==this.$16&&!c.isFullscreen()&&!this.$37&&(this.$67(),b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&c.emit("enterWatchAndScroll"),this.$63(c,"autoplay_initiated",!1,!0),this.$55())};c.$67=function(){this.$47=this.$48};c.$81=function(a){window.removeEventListener("scroll",this.$26),this.$26=a||null,window.addEventListener("scroll",this.$26),b("cancelAnimationFrame")(this.$32),delete this.$32};c.$55=function(){window.removeEventListener("resize",this.$25),this.$81(),delete this.$19,this.$29=!1};c.$66=function(a){this.$55(),this.$4&&this.$16!==a?this.$83(a):(this.$46=this.$59(a.getVideoNode()),this.$67(),this.$63(a,"user_initiated"))};c.$83=function(a){this.$23=a,this.$84()};c.$63=function(a,c,d,e){var f,g=this;if(a.getSource()==="tahoe"){this.$37=!1;var h=b("Tahoe").get();h&&h.onExit("wns")}h=!!this.$45;this.$45&&(b("clearTimeout")(this.$45),this.$45=null,b("ReactDOM").unmountComponentAtNode(this.$85()),this.$86());e=this.$1&&(d||e)&&!!this.$17&&this.$17!==a;e&&(this.$36=0,this.$35=[],this.$38=[],this.$41=this.$17,this.$43=babelHelpers["extends"]({},this.$8),this.$44=this.$18,this.$40=this.$14,this.$42=this.$2,this.$2=null,this.$13&&this.$13.remove(),this.$31.release(),this.$31=new(b("SubscriptionsHandler"))());this.$17=a;this.$87(this.$14&&this.$36>0?this.$88(this.$36):a);this.$49?this.$49.add(a.getVideoID()):this.$49=new Set([a.getVideoID()]);this.$14&&this.$35.length>this.$36&&this.$88(this.$36+1).preload();this.$15=this.$16.getRootNode();f=!this.$1&&!((f=this.$52)==null?void 0:f.disableAlwaysStartMuted)||!this.$16.isMuted();var i=!this.$1||this.$16.isState("playing"),j=this.$1&&this.$16.isState("finished");if(!this.$1||e){(!d||h)&&(h&&(this.$46=this.$59(this.$15)),this.$53(this.$15));if(this.$9){this.$8=this.$9;if(this.$8.videoRootNode){this.$18=this.$89(this.$8.dimensions,this.$17.getVideoNode());b("DOM").appendContent(this.$8.videoRootNode,this.$18);d=b("DOM").scry(this.$8.videoRootNode,"._344x");h=d[0];h&&b("DOM").remove(h)}}else this.$8={videoRootNode:this.$15.parentNode,dimensions:b("DOMDimensions").getElementDimensions(this.$15),source:this.$16.getSource()},this.$18=this.$89(this.$8.dimensions,this.$16.getVideoNode()),b("DOM").insertAfter(this.$15,this.$18);d=null;this.$9&&(d=this.$9.videoRootNode);!d&&this.$15&&(d=this.$15.parentNode);d&&(this.$13=b("EventListener").listen(d,"click",function(){g.$57(),a.play("user_initiated"),b("setTimeoutAcrossTransitions")(function(){g.$68(a,"beginPlayback",{reason:"user_initiated"})},s)}));this.$16.pause("user_initiated");this.$16.isPlayerVersion("silvercity")&&this.$16.detachRootNode();h=this.$7?this.$7.width:this.$6;d=this.$7?this.$7.height:this.$5;this.$16.removeOffsetStylings();this.$16.setDimensions(h,d);this.$4=!0;e&&this.$90();this.$14=this.$91();!this.$1&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/init");j&&this.$74(this.$16)}else this.$16.pause("user_initiated"),this.$65();i&&this.$16.play(c);if(f){this.$16.unmute();if(this.$16.getVolume()===0){h=b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()||1;this.$16.setVolume(h);this.$16.emit("unmuteVideo")}}this.$16.updateSource("watch_scroll");d=this.$33;(!this.$1||e)&&d&&(d.abandonRequest(),this.$9||d.reset(a.getVideoID(),a.getVideoChannelID()),this.$92(),this.$61(a),this.$62(a));this.$1=!0;b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/start");b("Arbiter").inform(b("LiveRHCUtils"))};c.$61=function(b){b.hasOption("WatchAndScroll","isActive")||b.registerOption("WatchAndScroll","isActive",a.isActive)};c.$62=function(a){var c=this;this.$31.addSubscriptions(this.$75(a),a.addListener("VideoChannelController/enterChannel",function(){c.$31.release()}),a.addListener("WatchAndScroll/close",function(){c.$57();var a=b("XVideoWNSSurveyController").getURIBuilder().getURI();a=new(b("AsyncRequest"))().setURI(a);a.send()}))};c.$93=function(){if(!this.$14)return;this.$14.setState({endScreenShown:!1});this.$16&&this.$16.play("user_initiated")};c.$92=function(){var a=this;if(!this.$47)return;this.$33.fetchStories(!0,function(c,d){var e=a.$14;if(!c||!c.length||!e)return;c=e.getChannelVideoElements().concat(c);e.setState({channelVideoElements:c},function(){b("setTimeoutAcrossTransitions")(function(){a.$88(a.$36+1).preload()})});a.$38=a.$38.concat(d)})};c.$88=function(a){var b=this.$14?this.$14.getChannelVideoElements():[],c=[this.$17].concat(this.$35),d=null;c.forEach(function(c){b[a].contains(c.getRootNode())&&(d=c)});d||i(0,3965);return d};c.$94=function(){if(v&&v.$50)for(var a=0;a<v.$35.length;a++){var b=v.$35[a];if(v.$50.contains(b.getRootNode()))return b}return null};c.$65=function(){var a=this.$16.isMuted();this.$16.pause("user_initiated");this.$16!==this.$17&&this.$16.abortLoading();this.$87(this.$88(this.$36));this.$15=this.$16.getRootNode();var c=this.$16.getVideoNode(),d=parseFloat(c.getAttribute("data-original-aspect-ratio"));d||(d=16/9);var e=this.$46;e||(e=this.$59(c));this.$14&&(e.width=this.$14.getWidth());e.height=e.width/d;b("VideoPlayerExperiments").rhcWNSEnabled?e.height=Math.min(e.height,x()):e.height>p&&(e.height=p,e.width=e.height*d);this.$16.removeOffsetStylings();this.$16.setDimensions(e.width,e.height);this.$53(c);this.$14&&this.$14.setState({playbackFinished:!1,videoIndex:this.$36,width:e.width,height:e.height},function(){b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/resize")});this.$46=e;this.$16.play("autoplay_initiated");a&&this.$16.mute();this.$35.length<=this.$36?this.$92():this.$88(this.$36+1).preload()};c.$95=function(){var a=m;this.$12&&(a+=this.$12.scrollHeight);return Math.max(a,o)};c.$53=function(a){if(this.$46){this.$7={height:this.$46.height,left:this.$46.left,top:this.$46.top,width:this.$46.width};return}if(a){var b=a.scrollWidth,c=a.scrollHeight;a=this.$79(a);c=a*c/b;this.$7.height=c;this.$7.width=a}else this.$7={height:this.$5,left:m,top:this.$95(),width:this.$6}};c.$89=function(a,c){var d=b("DOM").create("canvas",{className:"_57n6"});d.height=a.height;d.width=a.width;if(d.getContext&&d.getContext("2d"))if(c.scrollHeight===0){a=b("DOM").scry(c.parentNode,"._3t5i");a=a[0];if(a){var e=d.getContext("2d");e.drawImage(a,0,0)}}else if(c instanceof window.HTMLVideoElement){e=new(b("VideoFrameBuffer"))(d,c);e.updateFrameBuffer()}a=b("DOM").create("div");a.appendChild(d);c=b("DOM").create("i",{className:"_1jto _bsl _3htz"});a.appendChild(c);return a};c.$57=function(){this.$19&&this.$55();this.$16.pause("user_initiated");var a=this.$94();a&&a.pause("user_initiated");v&&(v.$50=null);this.$84()};c.$96=function(){this.$16.emit("WatchAndScroll/collapse")};c.$97=function(){var a=this.$89(this.$7,this.$16.getVideoNode(),!0);this.$14&&this.$14.setState({fadeOut:!0,fadeOutPlaceholder:a});this.$98(this.$17,this.$8);this.$18&&(b("DOM").remove(this.$18),this.$18=null);this.$13&&(this.$13.remove(),this.$13=null)};c.$98=function(a,c,d){var e;a.pause("user_initiated");a.isPlayerVersion("silvercity")&&a.detachRootNode();d&&b("ReactDOM").unmountComponentAtNode(d);c.dimensions&&c.dimensions.width&&c.dimensions.height&&(a.addOffsetStylings(),a.setDimensions(c.dimensions.width,c.dimensions.height));c.videoRootNode&&b("DOM").appendContent(c.videoRootNode,a.getRootNode());a.emit("WatchAndScroll/positionUpdated");a.updateSource(c.source||"inline");d=this.$73(a.getVideoNode());c=d.top;d=b("getViewportDimensions")().height;!((e=this.$52)==null?void 0:e.disableMuteOnExit)&&a.getSource()!=="permalink"&&a.mute();c<window.scrollY||c>window.scrollY+d||this.$51===!1?(a.pause("autoplay_initiated"),a.emit("resumeAutoplay")):a.play("user_initiated")};c.$90=function(){var a=this;this.$4||i(0,3966);this.$40||i(0,3967);this.$40.setState({fadeOut:!0});this.$45=b("setTimeoutAcrossTransitions")(function(){a.$41||i(0,3968),a.$42||i(0,3969),a.$98(a.$41,a.$43,a.$42),a.$44&&(b("DOM").remove(a.$44),a.$44=null),a.$45=null},s)};c.$56=function(){var a=this;this.$4||i(0,3966);this.$14||i(0,3970);!this.$23&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/exit");this.$35.forEach(function(a){return a.abortLoading()});this.$97();this.$45=b("setTimeoutAcrossTransitions")(function(){b("ReactDOM").unmountComponentAtNode(a.$85()),a.$86()},s)};c.$86=function(){this.$4||i(0,3966),this.$33&&this.$33.abandonRequest(),this.$36=0,this.$1=!1,this.$31.release(),this.$31=new(b("SubscriptionsHandler"))(),this.$8={},this.$16=null,this.$17=null,this.$4=!1,this.$35=[],this.$38=[],this.$14=null,b("clearTimeout")(this.$45),this.$45=null,this.$41&&this.$42&&this.$43&&this.$98(this.$41,this.$43,this.$42),this.$41=null,this.$43={},this.$44&&(b("DOM").remove(this.$44),this.$44=null),b("VideoAutoplayControllerX").setShouldAutoplay(!0),this.$2=null,this.$23&&(this.$46=this.$59(this.$23.getVideoNode()),this.$67(),this.$63(this.$23,"user_initiated"),this.$23=null),this.$29=!1,this.$46=null};c.$91=function(){var a=this;return b("ReactDOM").render(j.jsx(b("VideoWatchAndScrollContainer.react"),{isDrawerEnabled:b("VideoPlayerExperiments").rhcWNSDrawerEnabled&&b("shouldWNSRenderToRHC")()&&b("VideoPlayerExperiments").rhcWNSExpandToTahoe,isLiveVideo:function(){return a.$16.isLiveVideo()},initialPosition:this.$7,initialVideoElement:this.$15,onChannelNavigation:this.$99.bind(this),onClick:this.$100.bind(this),onClose:this.$57.bind(this),onCollapse:this.$96.bind(this),onDrop:this.$101.bind(this),onGrab:this.$102.bind(this),onInitialPositionUpdate:this.$103.bind(this),onLoadUpNext:this.registerUpNextUnit.bind(this),onPlayNext:this.$104.bind(this),onReplay:this.$93.bind(this),viewedVideos:Array.from(this.$49),videoID:this.$16.getVideoID()}),this.$85())};c.$84=function(){this.$17&&this.$17.emit("exitWatchAndScroll");var a=this.$94();a&&a.emit("exitWatchAndScroll")};c.$99=function(a){if(a>0&&this.$35.length<=this.$36){b("shouldWNSRenderToRHC")()||this.$57();return}this.$36+=a;this.$65()};c.$104=function(){var a=this.$94();a&&(this.$50=null,a.emit("crossfadeWatchAndScroll"),this.$51?a.play("autoplay_initiated"):(a.preload(),a.emit("showOverlay")))};c.$102=function(){this.$19&&this.$55();var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24=this.$16.isState("playing");this.$16.pause("user_initiated")};c.$101=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24&&this.$16.play("user_initiated");this.$24=null};c.$100=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(this.$19||a)return;this.$16.isState("playing")?this.$16.pause("user_initiated"):(this.$16.isState("paused")||this.$16.isState("finished")||this.$16.isState("ready"))&&this.$16.play("user_initiated")};c.$87=function(a){var c=this;if(this.$16===a)return;b("VideoPlayerExperiments").rhcWNSEnabled&&a.addListener("WatchAndScroll/collapse",function(){if(a!=c.$16){a.removeCurrentListener();return}if(!b("shouldWNSRenderToRHC")())return;b("Arbiter").inform("VideoWatchAndScrollController/collapse")});this.$16=a};c.pauseActiveVideo=function(a){if(!this.$16)return;this.$16.pause(a)};a.pauseActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!v)return;v.pauseActiveVideo(a)};c.playActiveVideo=function(a){if(!this.$16)return;this.$16.play(a)};c.registerUpNextUnit=function(a,c){var d=b("DOM").find(a,"._3iqr");if(!v||!d)return;v.$50=a;v.$51=c;b("EventListener").listen(d,"click",function(a){if(!v)return;var b=v.$94();b&&(a.preventDefault(),a.stopPropagation(),v.$50=null,b.emit("crossfadeWatchAndScroll"),b.play("user_initiated"))})};a.playActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!v)return;v.playActiveVideo(a)};c.$103=function(a){this.$7=a,this.$14&&!this.$14.getFadeOutStatus()&&(this.$16.removeOffsetStylings(),this.$16.setDimensions(a.width,a.height),this.$16.emit("WatchAndScroll/positionUpdated"))};c.$105=function(){var a=b("DOM").create("div");b("shouldWNSRenderToRHC")()?b("ifRequired")("RHCVideoWNSController",function(b){return b.mount(a)}):b("DOM").appendContent(document.body,a);return a};c.$85=function(){this.$2||(this.$2=this.$105());return this.$2};return a}();e.exports=a}),null);
__d("VideoControls",["csx","cx","Arbiter","AsyncRequest","Bootloader","ClippingApi","CSS","DeferredComponent.react","EventListener","FullScreen","LiveRewindUtils","LiveVideoPlayerActions","Parent","React","ReactDOM","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerUIComponentDrawer","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","gkx","logVideosClickTracking","promiseDone","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=new Set(["embedded","embedded_video","embedded_video_preview","embedded_page_plugin","embedded_video_from_ufi"]),k=200,l=4936,m=36,n=5e3,o=b("VideoPlayerExperiments").persistentWNSEnabled;a=function(){"use strict";function a(a,c,d){var e=this,f;this.$16={current:null};this.$14=function(){e.$10=!1,e.scheduleRenderReactComponent()};this.$15=a;this.$16.current=this.$15;this.$91=c;this.$9=0;this.$84=0;this.$83=0;this.$28=0;this.$122=!1;this.$92=!1;this.$48=d.hideOnEvents.autoplay;this.$49=d.hideOnEvents.finish;this.$42=d.hideOnEvents.pause;this.$103=d.unhideOnHover;this.$43=d.hidePlaybackControl;this.$44=d.isWatchIconEligible;this.$45=d.hidePlaybackScrubber;this.$104=d.showPlaybackRateControl;this.$108=d.showVideoSliderWarningTooltip;this.$46=d.hideRemainingTime;this.$47=d.hideSettings;this.$119=d.useTwoRows;this.$55=d.isCommentAttachment;this.$85=d.pointsOfInterestConfig||{};this.$18=d.displayElapsedTime||!1;this.$19=d.displayMilliseconds||!1;this.$20=d.displayDurationLimit;this.$21=d.displayTimeOffset;this.$1=d.adBreaks;this.$2=d.adBreaksDisableReasons;this.$107=d.showSpatialAudioNUX;this.$87=(f=d.pollTimestamps)!=null?f:[];this.$69=!1;this.$102=d.shouldShowWNSNUX;this.$10=!1;this.$37=!1;this.$50=d.insertedAdBreaks;this.$51=d.isAdBreakDisabled;this.$52=d.isAdBreakInsertionWithoutGapRule;this.$63=d.isLiveRewindEnabled||this.$15.isFBWasLive();this.$64=this.$15.isFBWasLive();this.$76=null;this.$105=d.showPlayButtonForLive;this.$120=d.videoClipInfo;this.$98=!!d.videoClipInfo;this.$12=null;this.$78=d.mutedSegments;f=a.isHtml5Player();a=a.getPlayerSuborigin();this.$39=d.showButtons.watchandscroll&&f&&a!=="topic_live";this.$3=d.showButtons.casting;this.$4=d.showButtons.fullscreen&&!!b("FullScreen").isSupported();this.$81=d.permalinkURL;this.$99=d.shouldShowInlineCopyLinkOption;this.$100=d.shouldShowInlineVideoReportOption;this.$101=d.shouldShowPermalinkButton;this.$61=d.isLive;this.$62=d.isGamingVideo;this.$70=d.isSphericalVideo;this.$29=d.forceVisible||!1;this.$30=d.forceVisibleOnMount||!1;this.$41=d.hideGradient||!1;this.$117=d.useDarkTheme||!1;this.$53=!1;this.$56=!1;this.$40=!1;this.$67=!1;this.$68=!1;this.$106=d.showQualitySelector;this.$88=d.qualitySelectorMinStreams;this.$74=this.liveRewindToBeginning.bind(this);this.$72=this.liveRewindSeekBack.bind(this);this.$73=this.liveRewindSeekForward.bind(this);this.$75=this.liveRewindToLive.bind(this);this.$13=this.clipVideo.bind(this);this.$25=this.enterWatchAndScroll.bind(this);this.$24=this.enterTahoe.bind(this);this.$82=this.play.bind(this);this.$80=this.pause.bind(this);this.$93=this.scrubBegin.bind(this);this.$94=this.scrubEnd.bind(this);this.$109=this.startCasting.bind(this);this.$110=this.stopCasting.bind(this);this.$112=this.toggleFullscreen.bind(this);this.$113=this.toggleHD.bind(this);this.$114=this.toggleHLS.bind(this);this.$115=this.toggleMuted.bind(this);this.$116=this.toggleCaptions.bind(this);this.$11=this.changeVolume.bind(this);this.$97=this.setVideoPlaybackRate.bind(this);this.$96=this.setPreferredVideoQuality.bind(this);this.$23=this.$15.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,m);this.$79=d.needsInitialVideoInfoUpdate;this.$17=this.$15.getSource();this.$32=d.gamesVideoClipButtonEnabled;this.$33=!!d.gamesVideoCreatorClippingGK&&!j.has(this.$17);this.$34=d.gamesDefaultClipLengthInSec;this.$6=d.annotatedMomentsOfInterest||{};this.$57=d.isEmbeddedPlayerRedesignEnabled;this.$118=d.useLargerGradient||!1;o||b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)});f=this.$15.getRootNode();b("EventListener").listen(this.$91,"focusin",function(){e.$27=!0,e.scheduleRenderReactComponent()});b("EventListener").listen(this.$91,"focusout",function(){b("containsNode")(e.$91,b("getActiveElement")())||(e.$27=!1,e.scheduleRenderReactComponent())});b("EventListener").listen(f,"click",function(a){if(e.$27&&a.detail){a=b("getActiveElement")();a&&a.blur()}});b("EventListener").listen(f,"mouseleave",function(){e.$77=!1,e.scheduleRenderReactComponent()});b("EventListener").listen(f,"mouseenter",function(){e.$77=!0,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","acquireForceHideLock",function(){e.$28++;return{release:function(){e.$28--,e.scheduleRenderReactComponent()}}});this.$15.registerOption("VideoControls","hideOnFinish",function(){return e.$49},function(a){e.$49=a});this.$15.registerOption("VideoControls","hideOnPause",function(){return e.$42},function(a){e.$42=a});this.$15.registerOption("VideoControls","unhideOnHover",function(){return e.$103},function(a){e.$103=a});this.$15.registerOption("VideoControls","hidePlaybackControl",function(){return e.$43},function(a){e.$43=a,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","available",function(){return!0});this.$15.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(a){b("EventListener").listen(e.$15.getRootNode(),a,b("throttle")(e.flashControls.bind(e),200))});this.$111=new(b("SubscriptionsHandler"))();this.scheduleRenderReactComponent();a=["changeVolume","loadedSubtitles","captionsAvailabilityChanged","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];a.forEach(function(a){return e.$111.addSubscriptions(e.$15.addListener(a,function(){return e.scheduleRenderReactComponentWithVideoInfoUpdate()}))});this.$111.addSubscriptions(this.$15.addListener("pauseRequested",function(a){e.$123(a)}),this.$15.addListener("playRequested",function(a){e.$124(a)}),this.$15.addListener("beginPlayback",function(){return e.$125()}),this.$15.addListener("updateStatus",function(a){if(e.$63){var c=e.$15.getSeekableRanges();c&&(e.$71=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$84=a.position;e.$21&&(e.$84-=e.$21);e.scheduleRenderReactComponent()}),this.$15.addListener("casting/updateStatus",function(a){if(e.$63){var c=e.$15.getSeekableRanges();c&&(e.$71=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$84=a.position;e.scheduleRenderReactComponent()}),this.$15.addListener("seekRangeChanged",function(a){if(e.$63){a=e.$15.getSeekableRanges();a&&(e.$83=b("LiveRewindUtils").getTotalDuration(a))}}),this.$15.addListener("updateBuffer",function(a){e.$9=a.duration+a.offset,e.scheduleRenderReactComponent()}),this.$15.addListener("optionsChange",function(a){e.$126()}),this.$15.addListener("resumeAutoplay",function(a){e.$127(),e.scheduleRenderReactComponentWithVideoInfoUpdate()}),this.$15.addListener("turnOffAutoplay",function(a){e.$54=!1}),this.$15.addListener("LivePlayer/isRewoundChanged",function(a){a=e.$15.getOption("LivePlayer","isRewound");e.$64!==a&&(e.$64=a,e.scheduleRenderReactComponent())}),this.$15.addListener("blockAudio",function(a){a||(e.$53=!0)}),this.$15.addListener("unblockAudio",function(a){a||(e.$53=!1)}));this.$102&&this.$111.addSubscriptions(this.$15.addListener("VideoWithStallRecovery/bufferingStateOn",function(){e.$37||e.$128(l)}),this.$15.addListener("VideoWithStallRecovery/bufferingStateOff",function(){e.$10=!1}));this.$111.addSubscriptions(this.$15.addListener("finishPlayback",function(){e.scheduleRenderReactComponent(!0)}));this.$126()}var c=a.prototype;c.$129=function(){this.$95=this.$15.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$36=this.$15.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$86=this.$15.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};c.$127=function(){this.$54=this.$15.getOption("FeedAutoplay","isAutoplaying")};c.$126=function(){this.$127(),this.$129()};c.$123=function(a){var c=this;this.scheduleRenderReactComponentWithVideoInfoUpdate();this.$61&&this.$63&&a==="user_initiated"&&(!this.$64&&this.$76===null&&(this.$76=window.setTimeout(function(){c.$76=null,b("LiveVideoPlayerActions").setIsRewound(c.$15,!0)},k)))};c.$124=function(a){this.$61&&this.$63&&a==="user_initiated"&&this.$76!==null&&(window.clearTimeout(this.$76),this.$76=null)};c.$125=function(){this.flashControls(),this.$130(),this.$66=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.$128=function(a){var c=this;a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();c.$10=a.should_show_nux}).send()};c.updateConfig_DEPRECATED=function(a,b){this.$81=a.permalinkURL||null,this.$3=a.showButtons?a.showButtons.casting:!1,this.$61=!!a.isLive,this.$1=a.adBreaks||null,this.$118=a.useLargerGradient||!1,this.scheduleRenderReactComponent()};c.updateAdBreaksConfig=function(a){this.$50=a.insertedAdBreaks,this.$51=a.isAdBreakDisabled,this.$52=a.isAdBreakInsertionWithoutGapRule,this.$29=!a.isPreviewingAdBreak,this.scheduleRenderReactComponent()};c.updateTwoRowsConfig=function(a){this.$119=a.useTwoRows,this.$55=a.isCommentAttachment,this.scheduleRenderReactComponent()};c.flashControls=function(){var a=this;this.$89||(this.$89=!0,this.scheduleRenderReactComponent());window.clearTimeout(this.$26);this.$26=window.setTimeout(function(){a.$26=null,a.$89=!1,a.scheduleRenderReactComponent()},3e3)};c.$130=function(){var a=this;this.$30&&(window.clearTimeout(this.$31),this.$31=window.setTimeout(function(){a.$31=null,a.$30=!1,a.scheduleRenderReactComponent()},n))};c.areControlsVisible=function(){var a=this;if(!this.areControlsEnabled())return!1;if(this.$29||this.$10||this.$67||this.$68||this.$30)return!0;if(this.$15.isState("playing")){if(this.$98){this.$12||(this.$12=window.setTimeout(function(){a.$98=!1},5e3));return!0}else if(this.$48&&this.$54)return!1;return this.$27||this.$77&&this.$89}else if(this.$15.isState("finished")){var b=this.$15.getSource()==="tahoe";return this.$15.isFullscreen()||b||!this.$49}else if(this.$15.isState("paused"))return this.$15.isFullscreen()||!this.$42||this.$103&&(this.$27||this.$77&&this.$89);return!1};c.areControlsEnabled=function(){var a=this.$15.getSource()==="tahoe";return this.$28>0||this.$15.isState("loading")||this.$15.isState("fallback")||this.$15.getOption("SottoPaywall","enable")||this.$15.isState("finished")&&this.$49&&!this.$15.isFullscreen()&&!a?!1:!0};c.scheduleRenderReactComponentWithVideoInfoUpdate=function(){this.$79=!0,this.scheduleRenderReactComponent(!0)};c.shouldRenderComponent=function(){if(this.$15.isState("loading")||this.$15.isState("fallback"))return!1;if(this.areControlsVisible()){this.$40=!1;return!0}if(!this.$40){this.$40=!0;return!0}return!1};c.scheduleRenderReactComponent=function(a){a===void 0&&(a=!1);if(!a&&!this.shouldRenderComponent())return;b("cancelAnimationFrame")(this.$90);this.$90=b("requestAnimationFrame")(this.renderReactComponent.bind(this))};c.renderReactComponent=function(){var a=this;if(b("VideoPlayerExperiments").delayVideoControlRenderForApiReady&&this.$15.getState()==="loading"&&!this.$92){this.$92=!0;this.$15.runOnApiReady(function(){a.scheduleRenderReactComponent()});return}this.$79&&this.$131();this.$56=!1;if(this.$78)for(var c=this.$78,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;this.$84>=g.mute_start_time_in_sec&&this.$84<=g.mute_end_time_in_sec&&(this.$56=!0)}g=this.areControlsVisible();this.$122!==g&&(this.$15.emit("VideoControls/visibilityUpdate",{areControlsVisible:g}),g?this.$23.reserve():this.$23.release(),this.$15.isState("destroyed")||b("CSS").conditionClass(this.$15.getRootNode(),"_302m",!g));this.$122=g;f=this.$15.getAvailableVideoQualities();e=this.$15.getPreferredVideoQuality();c=this.$15.getSelectedVideoQuality();var h=this.$15.canAutoSelectVideoQuality(),k=this.$15.getStreamingFormat(),l=null;this.$15.hasOption("LiveHeatmap","interestLevels")&&(l=this.$15.getOption("LiveHeatmap","interestLevels"));var m=this.$69;this.$69=b("VideoPlayerExperiments").slidingWNSv3&&this.$39&&b("VideoWatchAndScrollController").isSlidingEnabled(this.$15);m!==this.$69&&this.$15.logEvent(this.$69?"watch_and_scroll_icon_highlighted":"watch_and_scroll_icon_unhighlighted");m=this.$15.getSource()==="tahoe";var n=this.$15.getSource()==="watch_scroll",o=this.$15.isFBIsLiveTemplated()||this.$15.isFBWasLive();o=this.$63&&o&&(this.$15.isFBWasLive()||this.$15.getState()!=="finished");b("ReactDOM").render(i.jsx(b("DeferredComponent.react"),{deferredPlaceholder:i.jsx("span",{}),deferredComponent:function(a){return d(["VideoControls.react"],a)},allowCasting:this.$3,allowFullscreen:this.$4,annotatedMomentsOfInterest:this.$6,areCaptionsActive:this.$7,areCaptionsAutogenerated:this.$8,areHLSActive:this.$5,bufferedPosition:this.$9,finishedPlaying:this.$15.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$35,hasCaptions:this.$38,hasWatchAndScroll:this.$39&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$41,isAudioBlocked:this.$53||this.$56&&b("gkx")("797757"),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$55,isEmbedded:j.has(this.$17),isEmbeddedPlayerRedesignEnabled:this.$57,isFullscreen:this.$58,isHD:this.$59,isInline:this.$60,isInTahoe:m,isInWatchAndScroll:n,isLive:this.$61,isLiveRewindEnabled:o,isLiveRewound:this.$64,isFBWasLive:this.$15.isFBWasLive(),isSphericalVideo:this.$70,isMuted:this.$65,isPlaying:this.$66,isSidePaneOpen:this.getIsInChannel()&&!!b("Parent").bySelector(this.$91,"._57bj"),isSlidingWNSEligible:this.$69,interestLevels:l,liveRelativePlaybackPosition:this.$71,drawer:this.$23,onActionsClick:function(){a.$68=!a.$68},onAnnotatedMomentOfInterestSelect:function(b){a.$15.seek(b)},onEnterWatchAndScroll:this.$25,onEnterTahoe:this.$24,doesFullscreenEnterTahoe:this.$22,onLiveRewindToBeginning:this.$74,onLiveRewindSeekBack:this.$72,onLiveRewindSeekForward:this.$73,onLiveRewindToLive:this.$75,onWNSNUXClose:this.$14,onClipVideo:this.$13,onPause:this.$80,onPlay:this.$82,onScrubBegin:this.$93,onScrubEnd:this.$94,onSetVideoPlaybackRate:this.$97,onSettingsClick:function(){a.$67=!a.$67},onSidePaneToggle:function(){b("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$109,onStopCast:this.$110,onToggleFullscreen:this.$112,onToggleHD:this.$113,onToggleHLS:this.$114,onToggleMuted:this.$115,onToggleCaptions:this.$116,onVolumeChange:this.$11,permalinkURL:this.$81,showInlineCopyLinkOption:this.$99,showInlineVideoReportOption:this.$100,showPermalinkButton:this.$101,playbackDuration:this.$83,playbackPosition:this.$84,transparent:!g,hidePlaybackControl:this.$43,isWatchIconEligible:this.$44,hidePlaybackScrubber:this.$45,showPlaybackRateControl:this.$104,showPlayButtonForLive:this.$105,showVideoSliderWarningTooltip:this.$108,hideRemainingTime:this.$46,hideSettings:this.$47,useTwoRows:this.$119,volume:this.$121,scrubberPreviewSprites:this.$95,hasScrubberPreview:this.$36&&!n,previewThumbnailInformation:this.$86,availableQualities:f,selectedQuality:c,preferredQuality:e,canAutoSelectVideoQuality:h,onSelectQuality:this.$96,showQualitySelector:this.$106,qualitySelectorMinStreams:this.$88,streamingFormat:k,showSpatialAudioNUX:this.$107,onPointOfInterestSelect:this.$85.onPointOfInterestSelect,currentPointOfInterest:this.$85.currentPointOfInterest,pointsOfInterest:this.$85.pointsOfInterest,showPointOfInterestTimestamps:this.$85.showPointOfInterestTimestamps,displayElapsedTime:this.$18,displayMilliseconds:this.$19,adBreaks:this.$1,pollTimestamps:this.$87.filter(function(b){return b<=a.$83}),vpcID:this.$15.getVideoPlayerID(),adBreaksDisableReasons:this.$2,showSidePaneToggle:!1,showWNSNUX:this.$10&&this.areControlsEnabled()&&this.$102,insertedAdBreaks:this.$50,isAdBreakDisabled:this.$51,isAdBreakInsertionWithoutGapRule:this.$52,useDarkTheme:this.$117,videoID:this.$15.getVideoID(),videoClipInfo:this.$120?this.$120:void 0,gamesVideoClipButtonEnabled:this.$32,gamesVideoCreatorClipping:this.$33,gamesDefaultClipLengthInSec:this.$34,useLargerGradient:this.$118}),this.$91);this.$10&&this.areControlsEnabled()&&this.$102&&(this.$37=!0)};c.$131=function(){var a=this.$15.getVideoInfo_DEPRECATED();if(a){this.$7=this.$15.areSubtitlesActive();this.$8=this.$15.areSubtitlesAutogenerated();this.$38=this.$15.hasSubtitles();this.$35=a.hasHD;this.$59=a.isHD;this.$65=a.isMuted;this.$66=a.isPlaying||this.isCastPlaying();if(this.$63){var c=this.$15.getSeekableRanges();c&&(this.$83=b("LiveRewindUtils").getTotalDuration(c))}else this.$20!==null&&this.$20!==void 0?this.$83=Math.min(a.playbackDuration,this.$20):this.$83=a.playbackDuration;this.$121=a.volume;c=this.$15.getOption("CommercialBreakVideoAdOverlay","videoController");c?this.$58=c.isFullscreen():this.$58=this.$15.isFullscreen();c=this.$15.getPlayerOrigin();switch(this.$15.getSource()){case"inline":case"discover":case"continue_watching_recommendation":case"topic_live":case"entry_point":this.$60=!0;break;case"permalink":this.$60=c==="video_home";break;case"games_video_home_hero":this.$60=c==="games_video_hub";break;default:this.$60=!1;break}this.$61=a.isLiveStream;this.$5=a.areHLSActive;this.$79=!1;this.$22=this.$15.listeners("enterTahoe").length!==0}};c.toggleHD=function(){this.$15.toggleHD()};c.setPreferredVideoQuality=function(a){a?this.$15.setPreferredVideoQuality(a):this.$15.unsetPreferredVideoQuality()};c.toggleHLS=function(){this.$15.switchToStreamType("hls")};c.clipVideo=function(a){b("promiseDone")(b("ClippingApi").clipVideo(this.$16,this.$15.getVideoID(),this.$34,this.$15.getCurrentTimePosition()))};c.enterWatchAndScroll=function(){b("shouldWNSRenderToRHC")()?this.$15.emit("crossfadeWatchAndScroll"):this.$15.emit("enterWatchAndScroll")};c.enterTahoe=function(){var a=this;this.$15.getSource()==="watch_scroll"?(this.$15.logEvent("watch_and_scroll_channel_entered"),b("Bootloader").loadModules(["TahoeController","URI"],function(c,d){var e=new d(a.$15.getVideoURL());d=babelHelpers["extends"]({},d.getRequestURI().getQueryData(),{ref:"tahoe"});b("VideoWatchAndScrollController").onEnterTahoe();c.openFromVideoPlayer(a.$15,e.setQueryData(d),a.$15.getVideoChannelID(),"wns")},"VideoControls")):this.$15.emit("enterTahoe")};c.scrubBegin=function(){this.isCasting()||this.$15.pause("seek_initiated")};c.scrubEnd=function(a){if(this.$63){var c=this.$15.getSeekableRanges();if(c){var d=this.$71;this.$71=a;a=b("LiveRewindUtils").getAbsolutePosition(a,c);c=b("LiveRewindUtils").getLiveHeadTimestamp(c);c=c-a<1;b("LiveVideoPlayerActions").setIsRewound(this.$15,!c);b("LiveRewindUtils").logLiveRewindEvent("scrubber",this.$15,d,null,null,a)}}this.$21&&(a+=this.$21);this.$15.seek(a,"user_initiated");this.$84=a;c=this.$66||this.$15.isState("finished")&&!this.$49;!this.isCasting()&&c&&this.$15.play("seek_initiated")};c.toggleMuted=function(){this.$15.isMuted()?(b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.unmute()):this.$15.mute()};c.toggleFullscreen=function(){this.$15.isFullscreen()||b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.toggleFullscreen()};c.toggleCaptions=function(){this.$15.toggleSubtitles(),this.scheduleRenderReactComponent()};c.changeVolume=function(a){this.$15.setVolume(a)};c.liveRewindToBeginning=function(){b("LiveRewindUtils").goToBeginning(this.$15)};c.liveRewindSeekBack=function(){b("LiveRewindUtils").seekBack(this.$15)};c.liveRewindSeekForward=function(){b("LiveRewindUtils").seekForward(this.$15)};c.liveRewindToLive=function(){b("LiveRewindUtils").goToLive(this.$15)};c.play=function(){b("logVideosClickTracking")(this.$15.getVideoNode()),this.isCasting()?this.$15.setOption("casting","isPlaying",!0):this.$15.play("user_initiated"),this.$61&&this.$63&&b("LiveRewindUtils").logLiveRewindEvent("play",this.$15,this.$71,null,this.$71,null)};c.pause=function(){this.isCasting()?this.$15.setOption("casting","isPlaying",!1):this.$15.pause("user_initiated"),this.$61&&this.$63&&(b("LiveVideoPlayerActions").setIsRewound(this.$15,!0),b("LiveRewindUtils").logLiveRewindEvent("pause",this.$15,this.$71,null,this.$71,null))};c.setVideoPlaybackRate=function(a){this.$15.setPlaybackRate(a)};c.startCasting=function(){this.$15.setOption("casting","isCasting",!0)};c.stopCasting=function(){this.$15.setOption("casting","isCasting",!1)};c.isCastPlaying=function(){return this.$15.getOption("casting","isPlaying")};c.hasFoundReceiver=function(){return this.$15.getOption("casting","hasFoundReceiver")};c.isCasting=function(){return this.$15.getOption("casting","isCasting")};c.isCastingSupported=function(){return this.$15.getOption("casting","isSupported")};c.updatePointsOfInterestConfig=function(a){Object.assign(this.$85,a),this.scheduleRenderReactComponent()};c.updateDisplayElapsedTime=function(a){this.$18=a,this.scheduleRenderReactComponent()};c.updateDisplayTimeRangeConfig=function(a){this.$20=a.displayDurationLimit,this.$21=a.displayTimeOffset,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.getIsInChannel=function(){return this.$15.getIsInChannel()};c.$132=function(){var a=[this.$12,this.$26,this.$31,this.$76];a.forEach(function(a){return window.clearTimeout(a)});this.$12=null;this.$26=null;this.$31=null;this.$76=null};c.unregister=function(){b("cancelAnimationFrame")(this.$90),this.$111.release(),this.$16.current=null,this.$132()};return a}();e.exports=a}),null);
__d("VideoStateDirectory",["EventEmitter","VideoPlayerExperiments"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$VideoStateDirectory1=new Map();return b}var d=c.prototype;d.setPlaybackState=function(a,c,d){var e=this.$VideoStateDirectory1.get(a)||{};e.currentTimePosition=c;e.playbackDuration=d;e.watched=e.currentTimePosition/e.playbackDuration>=b("VideoPlayerExperiments").watchedPercentage/100||!!e.watched;this.$VideoStateDirectory1.set(a,e);this.emit(a,e)};d.setSaveState=function(a,b){var c=this.$VideoStateDirectory1.get(a)||{};c.saved=b;this.emit(a,c)};d.setSubscriptionState=function(a,b){var c=this.$VideoStateDirectory1.get(a)||{};c.subscribed=b;this.emit(a,c)};d.getState=function(a){return this.$VideoStateDirectory1.get(a)};return c}(b("EventEmitter"));e.exports=new a()}),null);